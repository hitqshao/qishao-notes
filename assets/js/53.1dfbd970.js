(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{465:function(e,t,a){"use strict";a.r(t);var s=a(5),o=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("ol",[t("li",[e._v("[3] Static Cost Estimation for Data Layout Selection on GPUs")])]),e._v(" "),t("hr"),e._v(" "),t("h1",{attrs:{id:"_1-static-cost-estimation-for-data-layout-selection-on-gpus"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-static-cost-estimation-for-data-layout-selection-on-gpus"}},[e._v("#")]),e._v(" 1. Static Cost Estimation for Data Layout Selection on GPUs")]),e._v(" "),t("p",[e._v("on the CPU, using Array-of-Struct (AoS) would be more efficient in general, because using AoS would encourage spatial locality. "),t("br"),e._v("\nin old GPU models before the L1 and L2 cache were introduced, Struct-of-Array (SoA) would usually be preferred since it would achieve better coalescing of memory access."),t("br"),e._v("\nThe GPU L1 and L2 cache brought back the opportunity of cache reuse, which means merging fields stored in discrete arrays in SoA into a single AoS might lead to better performance.")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/user-attachments/assets/e66b1b8b-4b92-4825-8de2-0f1b2d693a73",alt:"image"}})]),e._v(" "),t("h2",{attrs:{id:"background"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#background"}},[e._v("#")]),e._v(" Background")]),e._v(" "),t("p",[e._v("Accessing one field will also bring the adjacent fields into the cache."),t("br"),e._v("\nOn the other hand, SoA may not utilize the cache well, as accessing x[i] will not result in loading y[i] into the cache since x[i] and y[i] are unlikely to be in the same cache line.")]),e._v(" "),t("p",[e._v("on the GPU, using SoA will be more likely to result in more coalesced memory accesses, all threads in the same warp are accessing the same field."),t("br"),e._v("\nfor different logical data points simultaneously, "),t("strong",[e._v("using SoA will lead to fewer memory transactions as the same fields are declared in adjacent memory locations.")])]),e._v(" "),t("p",[e._v("AoS might lead to worse coalesced accesses, as declaring different fields in the same struct will waste memory bandwidth when accessing only a single field. Thus, SoA was preferred\non the GPU before the GPU cache was introduced.")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/user-attachments/assets/47be4998-06ec-4edf-81bc-555a4638e264",alt:"image"}})]),e._v(" "),t("p",[t("img",{attrs:{src:"https://github.com/user-attachments/assets/2e9f4e11-0ebf-4922-bc78-b27bdce58880",alt:"image"}})])])}),[],!1,null,null,null);t.default=o.exports}}]);